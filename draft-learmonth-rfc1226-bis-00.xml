<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!ENTITY RFC1226 SYSTEM
  "http://xml.resource.org/public/rfc/bibxml/reference.RFC.1226.xml">
<!ENTITY RFC2119 SYSTEM
  "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2119.xml">
<!ENTITY RFC2474 SYSTEM
  "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2474.xml">
<!ENTITY RFC2597 SYSTEM
  "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2597.xml">
]>

<rfc obsoletes="1226" docName='draft-learmonth-rfc1226-bis-00' ipr="trust200902" submissionType="IRTF" category="exp" xml:lang="en"><!-- xmlns:xi="http://www.w3.org/2001/XInclude"-->
<front>

<title abbrev='AX.25 over IP'>
Internet Protocol Encapsulation of AX.25 Frames
</title>

<author initials="I. R." surname="Learmonth" fullname="Iain R. Learmonth">
  <organization>HamBSD</organization>
  <address>
    <postal>
      <street></street>
    </postal>
    <email>irl@hambsd.org</email>
  </address>
</author>

<date />

<area></area>
<workgroup></workgroup>
<keyword>amateur radio</keyword>
<keyword>ax.25</keyword>
<keyword>encapsulation</keyword>

<abstract>
<t>This document describes a method for the encapsulation of AX.25
        Link Access Protocol for Amateur Packet Radio frames within IP
        version 4 and version 6 packets. Obsoletes RFC1226.
</t>
</abstract>

<note title="Note">
<t>Comments are solicited and should be addressed to the author(s).</t>
<t>The sources for this draft are at:</t>
<t>https://github.com/irl/draft-rfc1226-bis</t>
</note>

</front>

<middle>
<section anchor="introduction" title="Introduction">
<t>This document describes a method for the encapsulation of AX.25 (the
        AX.25 Link Access Protocol for Amateur Packet Radio
        <xref target="AX.25"></xref>) frames within IP version 4 and
        version 6 packets. It obsoletes <xref target="RFC1226" />.
</t>
<t>This document explicitly states that it applies both to Internet Protocol
version 4 and version 6 and now mentions negotiation of larger frame sizes
possible in AX.25 version 2.2. Additionally, it gives recommendations for
DiffServ codepoint marking of the encapsulating headers based on the AX.25 frame
content and provides security considerations for the use of this encapsulation
method.</t>
</section>

<section title="Terminology">
<t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL"
in this document are to be interpreted as described in
<xref target="RFC2119"/>.</t>
</section>

<section anchor="ip-encap" title="Internet Protocol Encapsulation">
<t>
        Each AX.25 frame is encapsulated in one IP version 4 or version 6
        datagram.
        For AX.25 version 2.0, the maximum frame size expected is 330 bytes and
        implementations MUST be prepared to handle frames of this size.
        Higher frame sizes can be negotiated by AX.25 version 2.2 and so this
	is a minimum requirement and not a limit.
</t>
<t>
        HDLC framing elements (flags and zero-stuffing) are omitted, as the IP
        datagram
        adequately delimits the beginning and end of each AX.25 frame. The
        CRC-16-CCITT frame check sequence (normally generated by the HDLC
        transmission hardware) is included trailing the information field.
	In all other respects, AX.25 frames are encapsulated unaltered.
</t>

<section anchor="priority" title="Priority Frames">
<t>
        In normal operation, the DiffServ codepoint field <xref target="RFC2474"/> in the encapsulating
        IP header SHOULD be set to best effort (BE).
	The exception to this is "priority frames" as specified for AX.25
	version 2.2, including acknowledgement and digipeat frames, which SHOULD
        have the DiffServ codepoint set to AF21 <xref target="RFC2597"/>. A slot is reserved on the radio
        channel for the transmission of these frames and the use of this
        codepoint will permit the frames to arrive promptly at the station for
        transmission.
</t>
<t>
        For the avoidance of doubt: on decapsulation the AX.25 frame MUST NOT be
        modified regardless of the DiffServ
        codepoint on the received encapsulating IP header.
</t>
</section>

<section anchor="aprs" title="Automatic Packet Reporting System">
<t>
        As a special case, when used with the Automatic Packet Reporting System
        <xref target="APRS"></xref>, priority frames will not occur. If
	a tunnel is configured as carrying APRS data, the DiffServ codepoint
        SHOULD by default be set to AF11 <xref target="RFC2597"/>. Where the "Precedence Bit"
        <xref target="RR-bits" />
        is set (i.e. it is zero) in an APRS packet, the DiffServ codepoint should be
        set to BE. Where the "Operator Present Bit"
        <xref target="RR-bits" />
	is set (i.e. it is zero),
        the DiffServ codepoint MAY be set to AF21 <xref target="RFC2597"/>.
</t>
<t>
        Again, for the avoidance of doubt: on decapsulation the AX.25 frame MUST
        NOT be modified regardless of the DiffServ codepoint on the received
        encapsulating IP header.
</t>
</section>
</section>

<section anchor="iana-considerations" title="IANA Considerations">
<t>
	Protocol number 93 is assigned in <xref target="protocol-numbers"></xref> and
	should be updated to point to this document.
</t>
</section>

<section anchor="security-considerations" title="Security Considerations">
<t>XXX Left the hard part for last, but the basics of it:
<list>
<t>You should use something to guarantee integrity</t>
<t>My advice is to use IPsec</t>
<t>Use ESP on the Internet, use AH on amateur radio links</t>
<t>Use AH if possibility that packet will go via amateur radio</t>
<t>Tunnels will be configured statically (can't think of other use cases) so
certificates are good</t>
<t>Routing via IPsec is not required, transport mode suffices, tunnel mode
for cases where there is NAT</t>
</list>
</t>
</section>

<section anchor="acknowledgements" title="Acknowledgements">
<t>
	The author would like to acknowledge the work of Brian Kantor
	who authored the original specification <xref target="RFC1226"></xref>
	that this document updates.
</t>
</section>

</middle>

<back>
<references title="Normative References">
&RFC2119;
&RFC2474;
&RFC2597;
<reference anchor="AX.25" target="https://www.tapr.org/pdf/AX25.2.2.pdf">
<front>
<title>AX.25 Link Access Protocol for Amateur Packet Radio Version 2.2</title>
<author><organization>Tucson Amateur Packet Radio Corporation</organization></author>
<date year="1998" month="July" />
</front>
</reference>
<reference anchor="protocol-numbers" target="http://www.iana.org/assignments/protocol-numbers/protocol-numbers.xhtml">
<front>
<title>Assigned Internet Protocol Numbers</title>
<author><organization>IANA</organization></author>
<date></date>
</front>
</reference>
<reference anchor="RR-bits" target="http://aprs.org/aprs12/RR-bits.txt">
<front>
<title>APRS Future Use of AX.25 SSID RR Bits</title>
<author initials="B." surname="Bruninga"><organization /></author>
<date year="2012" month="December" day="5" />
</front>
</reference>
</references>

<references title="Informative References">
&RFC1226;
<reference anchor="APRS" target="http://www.aprs.org/doc/APRS101.PDF">
<front>
<title>APRS Protocol Reference</title>
<author initials="I." surname="Wade" role="editor"><organization>APRS Working Group</organization></author>
<date year="2000" month="August"/>
</front>
</reference>
</references>

</back>

</rfc>
